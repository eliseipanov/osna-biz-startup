{% extends 'admin/base.html' %}

{% block head %}
{{ super() }}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    .dark-mode {
        background-color: #121212;
        color: #ffffff;
    }
    .dark-mode .navbar {
        background-color: #333 !important;
    }
    .dark-mode .card {
        background-color: #333;
        color: #fff;
    }
    .dark-mode .table {
        background-color: #333;
        color: #fff;
    }
    .dark-mode .table th, .dark-mode .table td {
        border-color: #555;
    }
    .theme-toggle {
        position: absolute;
        top: 10px;
        right: 10px;
    }
</style>
{% endblock %}

{% block navbar %}
{{ super() }}
<button id="theme-toggle" class="btn btn-secondary theme-toggle">ğŸŒ™ Dark</button>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
    const toggle = document.getElementById('theme-toggle');
    const body = document.body;
    const currentTheme = localStorage.getItem('theme');

    if (currentTheme === 'dark') {
        body.classList.add('dark-mode');
        toggle.textContent = 'â˜€ï¸ Light';
    }

    toggle.addEventListener('click', () => {
        body.classList.toggle('dark-mode');
        const theme = body.classList.contains('dark-mode') ? 'dark' : 'light';
        localStorage.setItem('theme', theme);
        toggle.textContent = theme === 'dark' ? 'â˜€ï¸ Light' : 'ğŸŒ™ Dark';
    });
</script>
{% endblock %}